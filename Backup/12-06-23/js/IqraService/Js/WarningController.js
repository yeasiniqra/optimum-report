Controller=new function(){function r(t){if(n.onerror)n.onerror(t);else Global.Error.Show(t,{user:n.name||"User",Action:"",path:n.save})}function e(){return i.IsValid&&(t.Wait(),n.ondatabinding&&n.ondatabinding(n.data,i),n.save=n.save||"/"+n.name+"s/Deactivate",Global.CallServer(n.save,function(i){t.Free();i.IsError?(t.Free(),r(i)):(n.onsavesuccess&&n.onsavesuccess(i),t.Hide())},function(n){t.Free();n.Id=-8;r(n)},n.data,"POST")),!1}function o(){t.Hide()}function u(){i.title=n.title||"Confirmation";i.message=n.message||n.msg||"Are you sure you want to delete this "+(n.name||"")+"?"}function s(){return'<div class="formHeader empty_style row headerFormMenu"><div class="col-xs-10 empty_style"><h4 data-binding="title" class="widget-title auto_bind" style="margin: 5px;"><\/h4><\/div><div class="col-xs-2 empty_style" style="padding: 0px; margin: 0px;"><span class="pull-right button_container"><a class="button btn_cancel"><span class="glyphicon glyphicon-remove"><\/span><\/a><\/span><\/div><\/div><form role="form" method="post" class="form-horizontal smart-form middleForm" action="/"><section class="col-md-12 empty_style"><div style="margin: 25px 0;" class="input-group"><span class="warning_icon" style="padding: 10px;"><span class="glyphicon glyphicon-warning-sign" style="font-size: 24px; top: 4px;"><\/span><\/span><span data-binding="message" class="auto_bind" style="padding: 6px 0px 7px 0px;"><\/span><\/div><\/section><div class="form-actions center text-center formFooter FooterFormMenu"><span><button class="btn btn_save btn-white btn-default btn-round" style="margin-right: 5px;" type="submit"><span class="glyphicon glyphicon-save"><\/span>Yes<\/button><button class="btn btn_cancel btn-white btn-default btn-round" type="button"><span class="glyphicon glyphicon-remove"><\/span>No<\/button><\/span><\/div><\/form>'}function f(r){t=Global.Window.Bind(r,{width:n.width||400});t.View.find(".btn_cancel").click(o);t.View.find(".btn_save").click(e);var f=Global.Form.Bind(i,t.View);u();t.Show()}var t,i={},n={};this.Show=function(i){n=i=i||{};for(var r in i)i[r.toLowerCase()]=i[r];t?(t.Show(),u()):i.template?Global.LoadTemplate(i.template,function(n){f(n)},function(){}):f(s())}}